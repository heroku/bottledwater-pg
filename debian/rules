#!/usr/bin/make -f
# See debhelper(7) (uncomment to enable)
# output every command that modifies files on the build system.
#DH_VERBOSE = 1

# see EXAMPLES in dpkg-buildflags(1) and read /usr/share/dpkg/*
DPKG_EXPORT_BUILDFLAGS = 1
include /usr/share/dpkg/default.mk

# main packaging script based on dh7 syntax
%:
	dh $@ 

# suppress dh_auto_clean since:
#  a) we're building fresh clones in Docker or Travis anyway so there should be
#     nothing to clean
#  b) for some reason it blows up in Travis when cleaning ext/Makefile
override_dh_auto_clean:

# suppress dh_auto_test since:
#  a) we're probably only building packages from a branch that's already had
#     CI run on it, and if we're not (e.g. hotfix) then we probably have a good
#     reason
#  b) don't want to set up the test suite to run inside the package build
#     environment, since that means Ruby inside Docker inside chroot inside a
#     container...
override_dh_auto_test:

override_dh_install:
	dh_install
	install -D kafka/bottledwater debian/bottledwater/usr/bin/bottledwater
